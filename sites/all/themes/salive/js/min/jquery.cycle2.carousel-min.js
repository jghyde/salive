!function($){"use strict";$(document).on("cycle-bootstrap",function(e,i,l){"carousel"===i.fx&&(l.getSlideIndex=function(e){var i=this.opts()._carouselWrap.children(),l=i.index(e);return l%i.length},l.next=function(){var e=i.reverse?-1:1;i.allowWrap===!1&&i.currSlide+e>i.slideCount-i.carouselVisible||(i.API.advanceSlide(e),i.API.trigger("cycle-next",[i]).log("cycle-next"))})}),$.fn.cycle.transitions.carousel={preInit:function(e){e.hideNonActive=!1,e.container.on("cycle-destroyed",$.proxy(this.onDestroy,e.API)),e.API.stopTransition=this.stopTransition;for(var i=0;i<e.startingSlide;i++)e.container.append(e.slides[0])},postInit:function(e){var i,l,s,r,t,o=e.carouselVertical;e.carouselVisible&&e.carouselVisible>e.slideCount&&(e.carouselVisible=e.slideCount-1);var n=e.carouselVisible||e.slides.length,c={display:o?"block":"inline-block",position:"static"};if(e.container.css({position:"relative",overflow:"hidden"}),e.slides.css(c),e._currSlide=e.currSlide,t=$('<div class="cycle-carousel-wrap"></div>').prependTo(e.container).css({margin:0,padding:0,top:0,left:0,position:"absolute"}).append(e.slides),e._carouselWrap=t,o||t.css("white-space","nowrap"),e.allowWrap!==!1){for(l=0;l<(void 0===e.carouselVisible?2:1);l++){for(i=0;i<e.slideCount;i++)t.append(e.slides[i].cloneNode(!0));for(i=e.slideCount;i--;)t.prepend(e.slides[i].cloneNode(!0))}t.find(".cycle-slide-active").removeClass("cycle-slide-active"),e.slides.eq(e.startingSlide).addClass("cycle-slide-active")}e.pager&&e.allowWrap===!1&&(r=e.slideCount-n,$(e.pager).children().filter(":gt("+r+")").hide()),e._nextBoundry=e.slideCount-e.carouselVisible,this.prepareDimensions(e)},prepareDimensions:function(e){var i,l,s,r,t,o=e.carouselVertical,n=e.carouselVisible||e.slides.length;if(e.carouselFluid&&e.carouselVisible?e._carouselResizeThrottle||this.fluidSlides(e):e.carouselVisible&&e.carouselSlideDimension?(i=n*e.carouselSlideDimension,e.container[o?"height":"width"](i)):e.carouselVisible&&(i=n*$(e.slides[0])[o?"outerHeight":"outerWidth"](!0),e.container[o?"height":"width"](i)),l=e.carouselOffset||0,e.allowWrap!==!1)if(e.carouselSlideDimension)l-=(e.slideCount+e.currSlide)*e.carouselSlideDimension;else for(r=e._carouselWrap.children(),t=0;t<e.slideCount+e.currSlide;t++)l-=$(r[t])[o?"outerHeight":"outerWidth"](!0);e._carouselWrap.css(o?"top":"left",l)},fluidSlides:function(e){function i(){clearTimeout(s),s=setTimeout(l,20)}function l(){e._carouselWrap.stop(!1,!0);var i=e.container.width()/e.carouselVisible;i=Math.ceil(i-t),e._carouselWrap.children().width(i),e._sentinel&&e._sentinel.width(i),o(e)}var s,r=e.slides.eq(0),t=r.outerWidth()-r.width(),o=this.prepareDimensions;$(window).on("resize",i),e._carouselResizeThrottle=i,l()},transition:function(e,i,l,s,r){var t,o={},n=e.nextSlide-e.currSlide,c=e.carouselVertical,a=e.speed;if(e.allowWrap===!1){s=n>0;var d=e._currSlide,u=e.slideCount-e.carouselVisible;n>0&&e.nextSlide>u&&d==u?n=0:n>0&&e.nextSlide>u?n=e.nextSlide-d-(e.nextSlide-u):0>n&&e.currSlide>u&&e.nextSlide>u?n=0:0>n&&e.currSlide>u?n+=e.currSlide-u:d=e.currSlide,t=this.getScroll(e,c,d,n),e.API.opts()._currSlide=e.nextSlide>u?u:e.nextSlide}else s&&0===e.nextSlide?(t=this.getDim(e,e.currSlide,c),r=this.genCallback(e,s,c,r)):s||e.nextSlide!=e.slideCount-1?t=this.getScroll(e,c,e.currSlide,n):(t=this.getDim(e,e.currSlide,c),r=this.genCallback(e,s,c,r));o[c?"top":"left"]=s?"-="+t:"+="+t,e.throttleSpeed&&(a=t/$(e.slides[0])[c?"height":"width"]()*e.speed),e._carouselWrap.animate(o,a,e.easing,r)},getDim:function(e,i,l){var s=$(e.slides[i]);return s[l?"outerHeight":"outerWidth"](!0)},getScroll:function(e,i,l,s){var r,t=0;if(s>0)for(r=l;l+s>r;r++)t+=this.getDim(e,r,i);else for(r=l;r>l+s;r--)t+=this.getDim(e,r,i);return t},genCallback:function(e,i,l,s){return function(){var i=$(e.slides[e.nextSlide]).position(),r=0-i[l?"top":"left"]+(e.carouselOffset||0);e._carouselWrap.css(e.carouselVertical?"top":"left",r),s()}},stopTransition:function(){var e=this.opts();e.slides.stop(!1,!0),e._carouselWrap.stop(!1,!0)},onDestroy:function(e){var i=this.opts();i._carouselResizeThrottle&&$(window).off("resize",i._carouselResizeThrottle),i.slides.prependTo(i.container),i._carouselWrap.remove()}}}(jQuery);